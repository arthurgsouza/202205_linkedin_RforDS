---
title: "Inspeções Iniciais e Tipos de Dados"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, collapse = TRUE)
```

# Bibliotecas

```{r}
library(tidyverse)
```


# Dados
Vamos trabalhar com uma base de comerciais do Superbow, considerando os anúncios das 10 marcas que mais veicularam nos Super Bowls dos últimos anos, tendo, para cada comercial, a classificação binária relacionada a sete critérios pré-especificados. Para mais informações sobre o levantamento acesse:
- <https://projects.fivethirtyeight.com/super-bowl-ads/>
- <https://github.com/rfordatascience/tidytuesday/blob/master/data/2021/2021-03-02/readme.md>


```{r}
youtube <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-03-02/youtube.csv')
```


```{r}
youtube %>% glimpse()
```





# Bibliotecas para EDA

Vamos primeiramente definir EDA, do inglês, Exploratory Data Analysis, ou em português Análise Exploratória de Dados. Trata-se da tentativa de resumir um conjuntos de dados, visando identificar as suas principais características. E no R temos uma série de pacotes que procuram acelerar este processo:

## janitor
Este pacote disponibiliza algumas funções para limpar e avaliar bases de dados: 

```{r}
#janitor::
youtube %>% janitor::clean_names(case = "upper_camel") %>%  glimpse()
```

```{r}
youtube %>% janitor::tabyl(year) 
```

```{r}
youtube %>% 
  janitor::tabyl(brand) %>%  
  janitor::adorn_totals() %>%  
  janitor::adorn_pct_formatting()
```

## inspectdf
Este pacote traz uma série de recursos para apresentação de resumos, como volumetrias e dados faltantes, respeitando sempre a classe das variáveis.

```{r}
#inspectdf::
youtube %>% inspectdf::inspect_types()
```

```{r}
youtube %>% inspectdf::inspect_na()
```

```{r}
youtube %>% inspectdf::inspect_imb()
```

```{r}
youtube %>% inspectdf::inspect_imb() %>% inspectdf::show_plot()
```

```{r}
youtube %>% inspectdf::inspect_num()
```

## skimr

Em português skim significa algo como "tirar a nata" de algo, e isto é exatamente o que este pacote faz, visto que nos permite uma visão geral de toda a base, com uma serie de estatísticas, organizadas de acordo com a classe das colunas:

```{r}
#skimr::
youtube %>%  skimr::skim()
```

# Como avaliar os resultados? 

Estatística! Aqui não tem muito como correr, é da estatística os ferramentais que utilizamos para sumarizar os dados. E como se trata de um tema amplo, e nosso objetivo neste curso não é aprofundar no tema, vou deixar aqui as aulas da Disciplina de Estatística Básica, ofertada pelo Departamento de Estatística da UFPR para consulta e aprofundamento no tema: 

<https://www.youtube.com/playlist?list=PLQcLb-PUD9WNZnVBYDKEonioyJw3nEaOM>

Aqui, teremos como enfoque a discussão conceitual de algus conceitos chave:

## Principais medidas de resumo

São elas:

- Medidas de Posição/concentração: média, moda, mediana
- Medidas de Ordenação (posição relativa): quartis, percentis, máximo e mínimo
-  Medidas de Dispersão (absoluta): variância, desvio padrão, amplitude e intervalo interquartil.
-  Medidas de Dispersão (relativa): coeficiente de variação




## Distribuição de frequência de uma variável

Um quarto grupo seriam as medidas de forma, caso da kurtosa ou medida de assimetria, porém, alternativamente, vamos focar na distribuição de frequência de uma variável. Isto porque com este temos todas as informações citadas acima, de maneira integrada e visual. E ao avaliar uma distribuição de frequência, é importante considerar as seguintes características: 

- Concentração: centro das observações
- Dispersão: variabilidade das observações
- Outliers: observações que se diferenciam drasticamente dos demais
- Forma: simétrica, assimétrica (à esquerda/direita)

Para discussão, considere dados com informações meteorológicas de Lincoln, Nebraska, no ano de 2016 


```{r}
ggridges::lincoln_weather %>% 
  janitor::clean_names() %>% 
  ggplot(aes(x = mean_temperature_f, y = month, fill = stat(x))) +
  ggridges::geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
  scale_x_continuous(expand = c(0, 0)) +
  scale_y_discrete(expand = c(0, 0)) +
  scale_fill_viridis_c(name = "Temp. [F]", option = "C") +
  coord_cartesian(clip = "off") +
  labs(title = 'Temperatures in Lincoln NE in 2016') +
  ggridges::theme_ridges(font_size = 13, grid = TRUE) +
  theme(axis.title.y = element_blank())
```

Agora comparando a distribuição dos dados, com as suas respectivas medidas de resumo.
```{r}
ggridges::lincoln_weather %>% 
  janitor::clean_names() %>%
  select(month, mean_temperature_f) %>% 
  group_by(month) %>% 
  skimr::skim()
```






# HANDS-ON

No R você irá encontrar dezenas de pacotes com o objetivo de "facilitar" a sua visão, particularmente para a exploração descritiva de dados. Bibliotecas como: `visdat`, `naniar`, `DataExplorer`, entre tantas outras. Que tal explorar um pouco estes pacotes?

E em relação às distribuições de frequências, você já ouviu falar da distribuição Normal (Gaussiana)? Ou talvez da distribuição Poisson? Exponencial? já refletiu sobre o porquê estudamos diferentes.



